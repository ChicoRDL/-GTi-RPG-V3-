----------------------------------------->>-- Grand Theft International (GTi)-- Author: Ares-- Date: 04 Jan 2016-- Resource: GTIwebmap/script.lua-- Version: 1.0----------------------------------------->>local UPDATE_TIMEOUT = 10000 -- ms (10 secs)local RADARAREA = true -- Show radarareas?local RADARAREA_DATA = "id" -- Only show radarareas with certain element data, leave blank to show all.local MAP_INFO = {}function getMapInfo()	return MAP_INFOendsetTimer(	function ()		MAP_INFO = {}		MAP_INFO.player = {}		MAP_INFO.radararea = {}		MAP_INFO.blip = {}		for key, _player in ipairs (getElementsByType("player")) do			local _name, _veh, _x, _y = getPlayerName(_player), isPedInVehicle(_player), getElementPosition(_player)			local _vehname = ( _veh and getVehicleName(getPedOccupiedVehicle(_player)) )			MAP_INFO.player[key] = {name = _name, x = _x, y = _y, veh = _veh, vehname = _vehname}		end		if ( not RADARAREA ) then return false end		for key, _radararea in ipairs (getElementsByType("radararea")) do			if ( RADARAREA_DATA and RADARAREA_DATA ~= "" and getElementData(_radararea, RADARAREA_DATA) ) then				local _color, _size, _flashing = {getRadarAreaColor(_radararea)}, {getRadarAreaSize(_radararea)}, tostring(isRadarAreaFlashing(_radararea))				MAP_INFO.radararea[key] = {color = _color, size = _size, flashing = _flashing}			end		end				for key, _blips in ipairs(getElementsByType("blip")) do			local _icon, _x, _y = getBlipIcon(_blips), getElementPosition(_blips)			local _color = ( _icon == 1 and {getBlipColor(_icon)} or false )			MAP_INFO.blip[key] = { icon = _icon, x = _x, y = _y, color = _color }		end	end, UPDATE_TIMEOUT, 1)